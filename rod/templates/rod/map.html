{% extends 'rod/base.html' %}

{% block content %}
    <br><br>
    <div class="content-section">
        <div id="mapid"></div>
    </div>



<script>
    var mymap = L.map('mapid').setView([51.2475, 22.5728], 8);
    const marker = L.marker([0,0]).addTo(mymap);
    const marker2 = L.marker([0,0]).addTo(mymap);
    const marker3 = L.marker([0,0]).addTo(mymap);

    const attribution = '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'
    const tileUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'
    const tiles = L.tileLayer(tileUrl,attribution)
    tiles.addTo(mymap)
    var i=0;
    {% if zgloszenia %}
        {% for zgloszenie in zgloszenia %}
            {% if zgloszenie.zarejestrowane == False %}
                marker{i}.setLatLng([{{ zgloszenie.lokalizacja_gps}}]).bindPopup('Zgloszenie nr {{ zgloszenie.id}}');
            {% endif %}
        {% endfor %}
    {% endif %}




    marker.setContent()

</script>
{% endblock %}